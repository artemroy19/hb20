import React, { useState } from 'react';
import { useDispatch } from 'react-redux';
import { hideLetter } from '../store/questSlice';
import '../styles/Letter.css';

interface LetterProps {
  onClose: () => void;
}

const Letter: React.FC<LetterProps> = ({ onClose }) => {
  const [isOpened, setIsOpened] = useState(false);
  const dispatch = useDispatch();

  const handleOpen = () => {
    setIsOpened(true);
  };

  const handleContinue = () => {
    dispatch(hideLetter());
    onClose();
  };

  return (
    <div className="letter-overlay">
      <div className="letter-container">
        {!isOpened ? (
          <div className="letter-envelope">
            <div className="envelope">
              <div className="envelope-flap"></div>
              <div className="envelope-body">
                <div className="letter-inside"></div>
              </div>
            </div>
            <button className="open-button" onClick={handleOpen}>
              –û—Ç–∫—Ä—ã—Ç—å –ø–∏—Å—å–º–æ
            </button>
          </div>
        ) : (
          <div className="letter-content">
            <div className="letter-header">
              <h2>–ú–∏–Ω–∏-–∫–≤–µ—Å—Ç–∏–∫ –Ω–∞ 20 –ª–µ—Ç </h2>
            </div>
            
            <div className="letter-body">
              <div className="quote">
              <em>"–ù–∞ —Ç–µ–±–µ –∫–æ–¥–æ–≤—ã–π –∑–∞–º–æ–∫,<br/>
               –ò –∫–∞–∫–æ–π –∂–µ –ø–∞—Ä–æ–ª—å?<br/>
               –Ø –¢-–ï-–ë-–Ø<br/>
               –õ-–Æ-–ë-–õ-–Æ<br/>
               –ù–∞–≤–µ—Ä–Ω–æ, –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π..."</em>
              </div>
              
              <div className="main-text">
                <p>–°–∞—à–µ–Ω—å–∫–∞, –ø—Ä–∏–≤–µ—Ç!</p>
                
                <p>–ö–∞–∫ —Ç—ã –¥–æ–≥–∞–¥—ã–≤–∞–µ—à—å—Å—è, —è –Ω–µ –º–æ–≥ –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–∞—Ä–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫, –ø–æ—ç—Ç–æ–º—É –¥–µ—Ä–∂–∏ –≤–æ—Ç —Ç–∞–∫–æ–π –ø—Ä–∏–∫–æ–ª—å–Ω—ã–π –ø–µ—Ä—Ñ–æ–º–∞–Ω—Å. </p><br/>
                 <p>–¢–µ–±–µ –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Ä–∞–∑–≥–∞–¥–∞—Ç—å 4 –±–ª–æ–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∫–∞–∫–æ–π –∂–µ –≤—Å—ë-—Ç–∞–∫–∏ –ø–∞—Ä–æ–ª—å. –û–Ω –Ω–µ —Ç–∞–∫–æ–π –¥–ª–∏–Ω–Ω—ã–π –∏ —Å–ª–æ–∂–Ω—ã–π, 
                  –∫–∞–∫ –≤ –ø–µ—Å–Ω–µ –û–ª–µ–≥–∞, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–∏–¥—ë—Ç—Å—è –ø–æ—Å—Ç–∞—Ä–∞—Ç—å—Å—è –∏ —Ö–æ—Ä–æ—à–æ –ø–æ–¥—É–º–∞—Ç—å, —á—Ç–æ–±—ã –∑–∞–ø–æ–ª—É—á–∏—Ç—å –∑–∞–≤–µ—Ç–Ω—ã–µ 4 —Ü–∏—Ñ—Ä—ã –∏ –ø–æ–¥–∞—Ä–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ä–æ–±–∫–∏.

                 </p>

                
                <p>–ö–∞–∂–¥—ã–π –±–ª–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è:</p>
                <ul>
                  <li><strong>üß† –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è</strong> ‚Äî –í—Å–ø–æ–º–Ω–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —è—Ä–∫–∏–µ –º–≥–Ω–æ–≤–µ–Ω–∏—è –∂–∏–∑–Ω–∏</li>
                  <li><strong>üí¨ –¶–∏—Ç–∞—Ç—ã</strong> ‚Äî –û–∫—É–Ω–∏—Å—å –≤ —Ü–∏—Ç–∞—Ç—ã –∏–∑ –ª—é–±–∏–º—ã—Ö —Ñ–∏–ª—å–º–æ–≤, —Å–µ—Ä–∏–∞–ª–æ–≤ –∏ –ø–µ—Å–µ–Ω </li>
                  <li><strong>üî¢ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</strong> ‚Äî –ù–µ –ø—É–≥–∞–π—Å—è, —Ç–∞–º –Ω–µ—Ç—Ä—É–¥–Ω–æ</li>
                  <li><strong>üñºÔ∏è –ö–∞—Ä—Ç–∏–Ω–∫–∏</strong> ‚Äî –ù–∞–π–¥–∏ —Å–≤—è–∑—å –º–µ–∂–¥—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏</li>
                </ul>
                
                <p>–ó–∞ –∫–∞–∂–¥—ã–π –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π –±–ª–æ–∫ —Ç—ã –ø–æ–ª—É—á–∏—å –æ–¥–Ω—É —Ü–∏—Ñ—Ä—É –æ—Ç –∫–æ–¥–∞. –†–∞–∑—Ä–µ—à–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–º–æ—â—å—é –¥—Ä—É–∑–µ–π.</p>
                
                <p className="warning">–ù–∏–∫–∞–∫–∏—Ö –Ω–æ–∂–Ω–∏—Ü!!! <br/>
                   –î–∞–∂–µ –Ω–µ –¥—É–º–∞–π —Ä–µ–∑–∞—Ç—å –ª–µ–Ω—Ç–æ—á–∫–∏ –∏ —Ç–∞–∫ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∫–æ—Ä–æ–±–∫—É :(</p>
                
                <p className="signature">–ù–∞–¥–µ—é—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ, –Ω—É –∏ –º–∏–ª–æ —Ç–æ–∂–µ<br/>
                <br/>
                P.S. –¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤ —Å–∞–π—Ç–∞ –Ω–µ –±—ã–ª–æ‚Ä¶ <br/>
                –ï—Å–ª–∏ —á—Ç–æ, —Ç–æ –≤—Å–µ –±–∞–≥–∏ - —ç—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ñ–∏—á–∏ <br/>
                <br/>
                <em>- –¢–≤–æ–π —Ç—ë–º—á</em></p>
              </div>
              
              <button className="continue-button" onClick={handleContinue}>
                –•–æ—á—É —É–∂–µ –±—ã—Å—Ç—Ä–µ–µ –æ—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–æ–±–∫—É!
              </button>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default Letter;